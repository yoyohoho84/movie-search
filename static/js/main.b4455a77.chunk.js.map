{"version":3,"sources":["components/Header.js","components/SearchInput.js","items/FilmItem.js","components/FilmsList.js","components/TagsList.js","components/TestButton.js","helpers/api-manager.js","pages/HomePage.js","pages/TestPage.js","App.js","serviceWorker.js","index.js"],"names":["Header","activeButton","setActiveButton","ColorButton","withStyles","theme","root","margin","width","color","backgroundColor","boxShadow","Button","className","Grid","container","spacing","align","item","xs","sm","style","textDecoration","onClick","btnMovie","btnBookmarks","console","log","variant","useStyles","makeStyles","display","flexDirection","alignItems","justifyContent","form","input","SearchInput","setSearchResult","searchResults","setInput","classes","noValidate","autoComplete","TextField","id","label","value","onChange","e","target","toLowerCase","FilmItem","title","pickDeleteBookmarks","added","bookmarks","ListItem","button","ListItemText","primary","ListItemIcon","maxWidth","palette","background","paper","FilmsList","updFilms","setSearchResults","searchTagsResults","renderFilms","map","index","key","renderSearchFilms","renderBookmarks","List","component","aria-label","length","fontSize","height","TagsList","tagsFilter","activeButtonTags","setActiveButtonTags","useState","tags","onChangeTags","_tags","findIndexTags","findIndex","newArr","splice","includes","APIManager","methodName","params","fetch","baseURL","method","credentials","headers","body","JSON","stringify","response","json","callMethod","HomePage","films","setUpdFilms","setBookmarks","useEffect","getLocalStorageFilms","localStorage","getItem","resStorageFilms","parse","filter","results","findTags","f","itemTags","findIdBookmarks","find","findIndexBookmarks","undefined","newArrFilms","setItem","App","basename","path","exact","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"qopDAMMA,EAAS,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,gBAExBC,EAAcC,aAAW,SAACC,GAAD,MAAY,CACzCC,KAAM,CACJC,OAAQ,oBACRC,MAAO,QACPC,MAAO,OACPC,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,WAEnB,UAAW,CACTC,UAAW,uCAVGP,CAahBQ,KAYJ,OACE,yBAAKC,UAAU,cACb,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGC,MAAM,UAChC,kBAACH,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGH,MAAM,UAC9B,kBAAC,IAAD,CACEI,MAAO,CACLC,eAAgB,QAElBC,QAlBV,WACErB,EAAgB,2BAAKD,GAAN,IAAoBuB,UAAU,EAAMC,cAAc,KACjEC,QAAQC,IAAI,kBAAmB1B,KAmBvB,kBAACE,EAAD,CACEyB,QAAQ,YACRnB,MAAM,UACNY,MAAO,CACLX,gBAAiBT,EAAauB,SAAW,UAAY,SAJzD,0CAWJ,kBAACV,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGH,MAAM,UAC9B,kBAAC,IAAD,CACEI,MAAO,CACLC,eAAgB,QAElBC,QAhCV,WACErB,EAAgB,2BAAKD,GAAN,IAAoBuB,UAAU,EAAOC,cAAc,KAClEC,QAAQC,IAAI,4BAA6B1B,KAiCjC,kBAACE,EAAD,CACEyB,QAAQ,YACRnB,MAAM,UACNY,MAAO,CACLX,gBAAiBT,EAAawB,aAAe,UAAY,SAJ7D,yD,iBC1DNI,EAAYC,aAAW,SAACzB,GAAD,MAAY,CACvCC,KAAM,CACJyB,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,SAChB3B,OAAQ,oBAEV4B,KAAM,CACJ3B,MAAO,SAET4B,MAAO,CACL5B,MAAO,YAIL6B,EAAc,SAAC,GAKf,EAJJC,gBAII,EAHJC,cAGK,IAFLH,EAEI,EAFJA,MACAI,EACI,EADJA,SAEMC,EAAUZ,IAgBhB,OACE,yBAAKhB,UAAW4B,EAAQnC,MACtB,0BAAMO,UAAW4B,EAAQN,KAAMO,YAAU,EAACC,aAAa,OACrD,kBAACC,EAAA,EAAD,CACE/B,UAAW4B,EAAQL,MACnBS,GAAG,iBACHC,MAAM,iCACNlB,QAAQ,WACRmB,MAAOX,EACPY,SAbkB,SAACC,GACzBT,EAASS,EAAEC,OAAOH,MAAMI,qB,sEC5BtBC,EAAW,SAAC,GAA0D,IAAxDP,EAAuD,EAAvDA,GAAIQ,EAAmD,EAAnDA,MAAOC,EAA4C,EAA5CA,oBAAgCC,GAAY,EAAvBC,UAAuB,EAAZD,OAG7D,OACE,kBAACE,EAAA,EAAD,CAAUZ,GAAIA,EAAIa,QAAM,GACtB,kBAACC,EAAA,EAAD,CAAcC,QAAO,UAAKP,KAC1B,kBAACQ,EAAA,EAAD,CAActC,QAAS,WACrB+B,EAAoBD,EAAOR,KAG1BU,EAAQ,kBAAC,IAAD,CAAUlC,MAAO,CAAEZ,MAAO,aAAiB,kBAAC,IAAD,SCRtDoB,EAAYC,aAAW,SAACzB,GAAD,MAAY,CACvCC,KAAM,CACJE,MAAO,OACPsD,SAAU,IACVpD,gBAAiBL,EAAM0D,QAAQC,WAAWC,WAIxCC,EAAY,SAAC,GAQZ,IAPLjE,EAOI,EAPJA,aACAkE,EAMI,EANJA,SACAX,EAKI,EALJA,UACAF,EAII,EAJJA,oBACAf,EAGI,EAHJA,cAIME,GADF,EAFJ2B,iBAEI,EADJC,kBAEgBxC,KAEV1B,EAAcC,aAAW,SAACC,GAAD,MAAY,CACzCC,KAAM,CACJC,OAAQ,mBACRC,MAAO,QACPC,MAAO,OACPC,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,WAEnB,UAAW,CACTC,UAAW,uCAVGP,CAahBQ,KAEE0D,EAAcH,EAASI,KAAI,SAACrD,EAAMsD,GACtC,OACE,kBAAC,EAAD,CACE3B,GAAI2B,EAAQ,EACZC,IAAKD,EACLnB,MAAOnC,EAAKmC,MAEZE,MAAOrC,EAAKqC,MACZD,oBAAqBA,EACrBE,UAAWA,OAKXkB,EAAoBnC,EAAcgC,KAAI,SAACrD,EAAMsD,GACjD,OACE,kBAAC,EAAD,CACE3B,GAAI2B,EAAQ,EACZC,IAAKD,EACLnB,MAAOnC,EAAKmC,MAEZE,MAAOrC,EAAKqC,MACZD,oBAAqBA,EACrBE,UAAWA,OAKXmB,EAAkBnB,EAAUe,KAAI,SAACrD,EAAMsD,GAC3C,OACE,kBAAC,EAAD,CACE3B,GAAI2B,EAAQ,EACZC,IAAKD,EACLnB,MAAOnC,EAAKmC,MAEZE,MAAOrC,EAAKqC,MACZD,oBAAqBA,EACrBE,UAAWA,OAKjB,OACE,oCACGvD,EAAauB,SACZ,oCACE,kBAACoD,EAAA,EAAD,CAAMC,UAAU,MAAMhE,UAAW4B,EAAQnC,KAAMwE,aAAW,YACvDJ,GAAwCJ,GAE1CA,EAAYS,OAAS,EACpB,yBACE1D,MAAO,CACLU,QAAS,SAGX,kBAAC5B,EAAD,CAAayB,QAAQ,YAAYnB,MAAM,WAAvC,wEAKF,IAIJ,oCACE,kBAACmE,EAAA,EAAD,CAAMC,UAAU,MAAMhE,UAAW4B,EAAQnC,KAAMwE,aAAW,YACvDH,GAEFA,EAAgBI,OAAS,EACxB,yBACE1D,MAAO,CACLU,QAAS,SAGX,kBAAC5B,EAAD,CAAayB,QAAQ,YAAYnB,MAAM,WAAvC,wEAKF,M,QC1HNoB,EAAYC,aAAW,SAACzB,GAAD,MAAY,CACvCC,KAAM,CACJyB,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,gBAChB3B,OAAQ,kBACRC,MAAO,SAGT2B,KAAM,CACJ3B,MAAO,SAETkD,OAAQ,CACNjD,MAAO,QACPC,gBAAiB,OACjBsE,SAAU,MACVxE,MAAO,OACPyE,OAAQ,YAINC,EAAW,SAAC,GAOZ,EANJC,WAMK,IALLC,EAKI,EALJA,iBACAC,EAII,EAJJA,oBAKM5C,GADF,EAHJF,cAGI,EAFJD,gBAEI,EADJF,MAEgBP,KADZ,EAI0ByD,mBAASC,GAJnC,mBAuBEC,GAvBF,UAuBiB,SAACC,GAIpB,IAAMC,EAAgBN,EAAiBO,WACrC,SAACzE,EAAMsD,GAAP,OAAiBtD,IAASuE,KAG5B,IAAuB,IAAnBC,EAEFL,EAAoB,GAAD,mBAAKD,GAAL,CAAuBK,SAErC,CAEL,IAAMG,EAAM,YAAOR,GACnBQ,EAAOC,OAAOH,EAAe,GAC7BL,EAAoBO,MAKxB,OACE,oCACE,kBAAChB,EAAA,EAAD,CAAMC,UAAU,MAAMhE,UAAW4B,EAAQnC,KAAMwE,aAAW,YACvDS,EAAKhB,KAAI,SAACrD,EAAMsD,GACf,GAAIA,EAAQ,EACV,OACE,kBAAC5D,EAAA,EAAD,CACE6D,IAAKD,EACLjD,QAAS,WACPiE,EAAatE,IAGfL,UAAW4B,EAAQiB,OACnB9B,QAAQ,YACRP,MAAO,CACLX,gBAAiB0E,EAAiBU,SAAS5E,GACvC,UACA,SAGLA,OAMX,kBAAC0D,EAAA,EAAD,CAAMC,UAAU,MAAMhE,UAAW4B,EAAQnC,KAAMwE,aAAW,YACvDS,EAAKhB,KAAI,SAACrD,EAAMsD,GACf,GAAIA,EAAQ,GAAKA,EAAQ,EACvB,OACE,kBAAC5D,EAAA,EAAD,CACE6D,IAAKD,EACLjD,QAAS,WACPiE,EAAatE,IAEfL,UAAW4B,EAAQiB,OACnB9B,QAAQ,YACRP,MAAO,CACLX,gBAAiB0E,EAAiBU,SAAS5E,GACvC,UACA,SAGLA,OAMX,kBAAC0D,EAAA,EAAD,CAAMC,UAAU,MAAMhE,UAAW4B,EAAQnC,KAAMwE,aAAW,YACvDS,EAAKhB,KAAI,SAACrD,EAAMsD,GACf,GAAIA,EAAQ,GAAKA,EAAQ,GACvB,OACE,kBAAC5D,EAAA,EAAD,CACE6D,IAAKD,EACLjD,QAAS,WACPiE,EAAatE,IAEfL,UAAW4B,EAAQiB,OACnB9B,QAAQ,YACRP,MAAO,CACLX,gBAAiB0E,EAAiBU,SAAS5E,GACvC,UACA,SAGLA,S,GC3ICY,aAAW,SAACzB,GAAD,MAAY,CACvCC,KAAM,CACJyB,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,gBAChB3B,OAAQ,kBACRC,MAAO,SAGT2B,KAAM,CACJ3B,MAAO,SAETkD,OAAQ,CACNjD,MAAO,QACPC,gBAAiB,OACjBsE,SAAU,MACVxE,MAAO,OACPyE,OAAQ,Y,wCCpBCc,EAAb,iJAQ4BC,GAR5B,4FAQwCC,EARxC,+BAQiD,GARjD,SAS+BC,MAAM,GAAD,OAAIH,EAAWI,QAAf,YAA0BH,GAAc,CAChEI,OAAQ,OACRC,YAAa,UACbC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUR,KAfjC,cAScS,EATd,yBAkBeA,EAASC,QAlBxB,yGAAaZ,EACFI,QAAU,yCCWEJ,EAAfa,W,IAEF/E,EAAYC,aAAW,SAACzB,GAAD,MAAY,CACvCC,KAAM,CACJE,MAAO,aAILqG,EAAW,SAAC,GAAQ,eACRhF,IAAhB,IADuB,EAEiByD,mBAAS,CAC/C9D,UAAU,EACVC,cAAc,IAJO,mBAEhBxB,EAFgB,KAEFC,EAFE,OAMSoF,mBAASwB,GANlB,mBAMhB3C,EANgB,KAMN4C,EANM,OAOWzB,mBAAS,IAPpB,mBAOhB9B,EAPgB,KAOLwD,EAPK,OAQkB1B,mBAAS,IAR3B,mBAQhB/C,EARgB,KAQDD,EARC,OASGgD,mBAAS,IATZ,mBAShBlD,EATgB,KASTI,EATS,OAUyB8C,mBAAS,IAVlC,mBAUhBF,EAVgB,KAUEC,EAVF,KAYvB4B,qBAAU,WACR,IAAMC,EAAuBC,aAAaC,QAAQ,SAC5CC,EAAkBb,KAAKc,MAAMJ,GAE/BG,IACF/E,EAAgB+E,GAChBN,EAAYM,GACZL,EACEK,EAAgBE,QAAO,SAACrG,GACtB,GAAIA,EAAKqC,MACP,OAAOrC,SAYd,IAGH+F,qBAAU,WAERvF,QAAQC,IAAI,QAASS,GAErB,IAAMoF,EAAUrD,EAASoD,QAAO,SAACrG,GAAD,OAC9BA,EAAKmC,MAAMF,cAAc2C,SAAS1D,MAEpCV,QAAQC,IAAI,UAAW6F,GAEvB,IACMC,GADuB,KAAVrF,EAAe+B,EAAWqD,GACjBD,QAAO,SAACrG,GAClC,IAAMwG,EAAIxG,EAAKqE,KAAKgC,QAAO,SAACI,GAAD,OACzBvC,EAAiBU,SAAS6B,MAE5B,GAAIvC,EAAiBL,SAAW2C,EAAE3C,OAChC,OAAO7D,KAIXQ,QAAQC,IAAI,WAAY8F,GACxBnF,EAAgBmF,KACf,CAACrF,EAAOgD,IAuCX,OACE,yBAAKvE,UAAU,gBACb,kBAAC,EAAD,CAAQZ,aAAcA,EAAcC,gBAAiBA,IACpDD,EAAauB,SACZ,oCACE,kBAAC,EAAD,CACE2C,SAAUA,EACV4C,YAAaA,EACbvD,UAAWA,EACXjB,cAAeA,EACfD,gBAAiBA,EACjBF,MAAOA,EACPI,SAAUA,IAGZ,kBAAC,EAAD,CAEE4C,iBAAkBA,EAClBC,oBAAqBA,EACrBjD,MAAOA,EACPG,cAAeA,EACfD,gBAAiBA,KAIrB,GAGF,kBAAC,EAAD,CACErC,aAAcA,EACdC,gBAAiBA,EACjBiE,SAAUA,EACVX,UAAWA,EACXF,oBAtEsB,SAACD,EAAOR,GAClC,IAAM+E,EAAkBpE,EAAUqE,MAChC,SAAC3G,EAAMsD,GAAP,OAAiBtD,EAAKmC,QAAUA,KAG5ByE,EAAqBtE,EAAUmC,WACnC,SAACzE,EAAMsD,GAAP,OAAiBtD,EAAKmC,QAAUA,KAGlC,GAAKG,QAAiCuE,IAApBH,EAWX,CACL,IAAMI,EAAc7D,EAASI,KAAI,SAACrD,GAIhC,OAHIA,EAAKmC,QAAUA,IACjBnC,EAAKqC,OAAQ,GAERrC,KAET6F,EAAYiB,GACZtG,QAAQC,IAAI,kBAAmBwC,GAE/B,IAAMyB,EAAM,YAAOpC,GACnBoC,EAAOC,OAAOiC,EAAoB,GAClCd,EAAapB,OAvBkC,CAC/C,IAAMoC,EAAc7D,EAASI,KAAI,SAACrD,GAIhC,OAHIA,EAAKmC,QAAUA,IACjBnC,EAAKqC,OAAQ,GAERrC,KAGT6F,EAAYiB,GACZtG,QAAQC,IAAI,iBAAkBwC,GAC9B6C,EAAa,GAAD,mBAAKxD,GAAL,aAAC,eAAoBW,EAAStB,EAAK,IAAnC,IAAuCU,OAAO,OAe5D4D,aAAac,QAAQ,QAASzB,KAAKC,UAAUtC,KAqCzC5B,cAAeA,EACfD,gBAAiBA,MChJFyD,EAAfa,WAEU9E,aAAW,SAACzB,GAAD,MAAY,CACvCC,KAAM,CACJE,MAAO,a,YCqBI0H,MAxBf,WAAgB,IAAD,EACe5C,mBAAS,MADxB,mBAGb,OAHa,UAIX,kBAAC,IAAD,CAAe6C,SAAS,kBACtB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,IAAIvD,UAAWgC,EAAUwB,OAAK,OCN9BC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL7H,QAAQ6H,MAAMA,EAAMC,c","file":"static/js/main.b4455a77.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, withStyles, Button, Grid } from \"@material-ui/core/\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { green, purple } from \"@material-ui/core/colors\";\r\n// import \"../styles/header.sass\";\r\n\r\nconst Header = ({ activeButton, setActiveButton }) => {\r\n\r\n  const ColorButton = withStyles((theme) => ({\r\n    root: {\r\n      margin: \"10px 0px 10px 0px\",\r\n      width: \"160px\",\r\n      color: \"#fff\",\r\n      backgroundColor: \"#db7093\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#db7093\",\r\n      },\r\n      \"&:focus\": {\r\n        boxShadow: \"0 0 0 0.2rem rgba(0,123,255,.5)\",\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  function goMovie() {\r\n    setActiveButton({ ...activeButton, btnMovie: true, btnBookmarks: false });\r\n    console.log(\"goMovie active:\", activeButton);\r\n  }\r\n\r\n  function goBookmarks() {\r\n    setActiveButton({ ...activeButton, btnMovie: false, btnBookmarks: true });\r\n    console.log(\"goBookmarks activeButton:\", activeButton);\r\n  }\r\n\r\n  return (\r\n    <div className=\"headerRoot\">\r\n      <Grid container spacing={1} align=\"center\" >\r\n        <Grid item xs={12} sm={6} align=\"center\">\r\n          <Link\r\n            style={{\r\n              textDecoration: \"none\",\r\n            }}\r\n            onClick={goMovie}\r\n            // to=\"/movie\"\r\n          >\r\n            <ColorButton\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{\r\n                backgroundColor: activeButton.btnMovie ? \"#db7093\" : \"gray\",\r\n              }}\r\n            >\r\n              Фильмы\r\n            </ColorButton>\r\n          </Link>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} align=\"center\">\r\n          <Link\r\n            style={{\r\n              textDecoration: \"none\",\r\n            }}\r\n            onClick={goBookmarks}\r\n            // to=\"/bookmarks\"\r\n          >\r\n            <ColorButton\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{\r\n                backgroundColor: activeButton.btnBookmarks ? \"#db7093\" : \"gray\",\r\n              }}\r\n            >\r\n              Закладки\r\n            </ColorButton>\r\n          </Link>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\nexport { Header };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, TextField, Button, Grid } from \"@material-ui/core/\";\r\nimport { Link } from \"react-router-dom\";\r\nimport films from \"../data/films\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    margin: \"20px 0px 0px 0px\",\r\n  },\r\n  form: {\r\n    width: \"400px\",\r\n  },\r\n  input: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst SearchInput = ({\r\n  setSearchResult,\r\n  searchResults,\r\n  input,\r\n  setInput,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  // useEffect(() => {\r\n  //   const results = searchResults.filter((item) =>\r\n  //     item.title.toLowerCase().includes(input)\r\n  //   );\r\n\r\n  //   setSearchResult(results);\r\n\r\n  //   // console.log(\"setSearchResult\", searchResults);\r\n  // }, [input]);\r\n\r\n  const handleInputChange = (e) => {\r\n    setInput(e.target.value.toLowerCase());\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form className={classes.form} noValidate autoComplete=\"off\">\r\n        <TextField\r\n          className={classes.input}\r\n          id=\"outlined-basic\"\r\n          label=\"Поиск\"\r\n          variant=\"outlined\"\r\n          value={input}\r\n          onChange={handleInputChange}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport { SearchInput };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Grid,\r\n} from \"@material-ui/core/\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\n\r\nconst FilmItem = ({ id, title, pickDeleteBookmarks, bookmarks, added }) => {\r\n  // const [added, setAdded] = useState(false);\r\n  \r\n  return (\r\n    <ListItem id={id} button>\r\n      <ListItemText primary={`${title}`} />\r\n      <ListItemIcon onClick={() => {\r\n        pickDeleteBookmarks(title, id)\r\n        \r\n      }}>\r\n        {added ? <StarIcon style={{ color: \"#db7093\" }}/> : <StarBorderIcon />}\r\n      </ListItemIcon>\r\n    </ListItem>\r\n  );\r\n};\r\nexport { FilmItem };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  withStyles,\r\n  Button,\r\n} from \"@material-ui/core/\";\r\nimport StarIcon from \"@material-ui/icons/MoveToInbox\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FilmItem } from \"../items\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"150%\",\r\n    maxWidth: 460,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nconst FilmsList = ({\r\n  activeButton,\r\n  updFilms,\r\n  bookmarks,\r\n  pickDeleteBookmarks,\r\n  searchResults,\r\n  setSearchResults,\r\n  searchTagsResults,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const ColorButton = withStyles((theme) => ({\r\n    root: {\r\n      margin: \"5px 0px 20px 0px\",\r\n      width: \"160px\",\r\n      color: \"#fff\",\r\n      backgroundColor: \"#db7093\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#db7093\",\r\n      },\r\n      \"&:focus\": {\r\n        boxShadow: \"0 0 0 0.2rem rgba(0,123,255,.5)\",\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  const renderFilms = updFilms.map((item, index) => {\r\n    return (\r\n      <FilmItem\r\n        id={index + 1}\r\n        key={index}\r\n        title={item.title}\r\n        // test={item.tags}\r\n        added={item.added}\r\n        pickDeleteBookmarks={pickDeleteBookmarks}\r\n        bookmarks={bookmarks}\r\n      />\r\n    );\r\n  });\r\n\r\n  const renderSearchFilms = searchResults.map((item, index) => {\r\n    return (\r\n      <FilmItem\r\n        id={index + 1}\r\n        key={index}\r\n        title={item.title}\r\n        // test={item.tags}\r\n        added={item.added}\r\n        pickDeleteBookmarks={pickDeleteBookmarks}\r\n        bookmarks={bookmarks}\r\n      />\r\n    );\r\n  });\r\n\r\n  const renderBookmarks = bookmarks.map((item, index) => {\r\n    return (\r\n      <FilmItem\r\n        id={index + 1}\r\n        key={index}\r\n        title={item.title}\r\n        // tags={item.tags}\r\n        added={item.added}\r\n        pickDeleteBookmarks={pickDeleteBookmarks}\r\n        bookmarks={bookmarks}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {activeButton.btnMovie ? (\r\n        <>\r\n          <List component=\"nav\" className={classes.root} aria-label=\"contacts\">\r\n            {renderSearchFilms ? renderSearchFilms : renderFilms}\r\n          </List>\r\n          {renderFilms.length > 0 ? (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n              }}\r\n            >\r\n              <ColorButton variant=\"contained\" color=\"primary\">\r\n                Показать еще\r\n              </ColorButton>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <List component=\"nav\" className={classes.root} aria-label=\"contacts\">\r\n            {renderBookmarks}\r\n          </List>\r\n          {renderBookmarks.length > 0 ? (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n              }}\r\n            >\r\n              <ColorButton variant=\"contained\" color=\"primary\">\r\n                Показать еще\r\n              </ColorButton>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport { FilmsList };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, TextField, Button, Grid, List } from \"@material-ui/core/\";\r\nimport { Link } from \"react-router-dom\";\r\nimport tags from \"../data/tags\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"5px 0px 0px 0px\",\r\n    width: \"400px\",\r\n    // height: \"50%\",\r\n  },\r\n  form: {\r\n    width: \"400px\",\r\n  },\r\n  button: {\r\n    color: \"white\",\r\n    backgroundColor: \"gray\",\r\n    fontSize: \"9px\",\r\n    width: \"85px\",\r\n    height: \"25px\",\r\n  },\r\n}));\r\n\r\nconst TagsList = ({\r\n  tagsFilter,\r\n  activeButtonTags,\r\n  setActiveButtonTags,\r\n  searchResults,\r\n  setSearchResult,\r\n  input,\r\n}) => {\r\n  const classes = useStyles();\r\n  // let arrTags = [];\r\n  // const [activeButtonTags, setActiveButtonTags] = useState([]);\r\n  const [arrTags, setArrTags] = useState(tags);\r\n\r\n  // useEffect(() => {\r\n  //   // при каждом изменении activeButtonTags обновляем\r\n  //   // результирующий массив который рендрится - searchResults\r\n\r\n  //   const findTags = searchResults.filter((item) => {\r\n  //     const f = item.tags.filter((itemTags) =>\r\n  //       activeButtonTags.includes(itemTags)\r\n  //     );\r\n  //     if (activeButtonTags.length === f.length) {\r\n  //       return item;\r\n  //     }\r\n  //   });\r\n  //   setSearchResult(findTags);\r\n  //   console.log(\"end useEffect searchResults\", searchResults);\r\n  //   console.log(\"end useEffect activeButtonTags\", activeButtonTags);\r\n  // }, [activeButtonTags]);\r\n\r\n  const onChangeTags = (_tags) => {\r\n    // в findIndexTags получаем индекс тега из массива тегов activeButtonTags\r\n    // чтобы потом по этому тегу удалять или добавлять элемент\r\n\r\n    const findIndexTags = activeButtonTags.findIndex(\r\n      (item, index) => item === _tags\r\n    );\r\n\r\n    if (findIndexTags === -1) {\r\n      // если элемента нет, мы  его добавляем\r\n      setActiveButtonTags([...activeButtonTags, _tags]);\r\n      // console.log(\"onChangeTags if activeButtonTags\", activeButtonTags);\r\n    } else {\r\n      // если элемент уже есть, то удаляем его\r\n      const newArr = [...activeButtonTags]; // так работает\r\n      newArr.splice(findIndexTags, 1);\r\n      setActiveButtonTags(newArr);\r\n      // console.log(\"onChangeTags else activeButtonTags\", activeButtonTags);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <List component=\"nav\" className={classes.root} aria-label=\"contacts\">\r\n        {tags.map((item, index) => {\r\n          if (index < 4) {\r\n            return (\r\n              <Button\r\n                key={index}\r\n                onClick={() => {\r\n                  onChangeTags(item);\r\n                  // tagsFilter(item);\r\n                }}\r\n                className={classes.button}\r\n                variant=\"contained\"\r\n                style={{\r\n                  backgroundColor: activeButtonTags.includes(item)\r\n                    ? \"#db7093\"\r\n                    : \"gray\",\r\n                }}\r\n              >\r\n                {item}\r\n              </Button>\r\n            );\r\n          }\r\n        })}\r\n      </List>\r\n      <List component=\"nav\" className={classes.root} aria-label=\"contacts\">\r\n        {tags.map((item, index) => {\r\n          if (index > 3 && index < 8) {\r\n            return (\r\n              <Button\r\n                key={index}\r\n                onClick={() => {\r\n                  onChangeTags(item);\r\n                }}\r\n                className={classes.button}\r\n                variant=\"contained\"\r\n                style={{\r\n                  backgroundColor: activeButtonTags.includes(item)\r\n                    ? \"#db7093\"\r\n                    : \"gray\",\r\n                }}\r\n              >\r\n                {item}\r\n              </Button>\r\n            );\r\n          }\r\n        })}\r\n      </List>\r\n      <List component=\"nav\" className={classes.root} aria-label=\"contacts\">\r\n        {tags.map((item, index) => {\r\n          if (index > 7 && index < 12) {\r\n            return (\r\n              <Button\r\n                key={index}\r\n                onClick={() => {\r\n                  onChangeTags(item);\r\n                }}\r\n                className={classes.button}\r\n                variant=\"contained\"\r\n                style={{\r\n                  backgroundColor: activeButtonTags.includes(item)\r\n                    ? \"#db7093\"\r\n                    : \"gray\",\r\n                }}\r\n              >\r\n                {item}\r\n              </Button>\r\n            );\r\n          }\r\n        })}\r\n      </List>\r\n    </>\r\n  );\r\n};\r\nexport { TagsList };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, TextField, Button, Grid, List } from \"@material-ui/core/\";\r\nimport { Link } from \"react-router-dom\";\r\n// import tags from \"../data/tags\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"5px 0px 0px 0px\",\r\n    width: \"400px\",\r\n    // height: \"50%\",\r\n  },\r\n  form: {\r\n    width: \"400px\",\r\n  },\r\n  button: {\r\n    color: \"white\",\r\n    backgroundColor: \"gray\",\r\n    fontSize: \"9px\",\r\n    width: \"85px\",\r\n    height: \"25px\",\r\n  },\r\n}));\r\n\r\nconst TestButton = ({\r\n  tagsFilter,\r\n  updFilms,\r\n  setUpdFilms,\r\n  searchResults,\r\n  setSearchResult,\r\n  input,\r\n}) => {\r\n  const classes = useStyles();\r\n  const tags = [\r\n    { id: 1, genre: \"Драма\" },\r\n    { id: 2, genre: \"Мистика\" },\r\n    { id: 3, genre: \"Sci-Fi\" },\r\n    { id: 4, genre: \"Роботы\" },\r\n  ];\r\n  let newArrTags = [];\r\n  const [activeButtonTags, setActiveButtonTags] = useState([]);\r\n  const [n, setN] = useState([]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(\"useEffect start activeButtonTags\", activeButtonTags);\r\n  //   console.log(\"useEffect start N\", n);\r\n\r\n  //   setN(activeButtonTags);\r\n\r\n  //   console.log(\"useEffect end activeButtonTags\", activeButtonTags);\r\n  //   console.log(\"useEffect end N\", n);\r\n  // }, [activeButtonTags]);\r\n\r\n  const onChangeTags = (_tags) => {\r\n    // в findIndexTags получаем индекс тега из массива тегов activeButtonTags\r\n    // чтобы потом по этому тегу удалять или добавлять элемент\r\n\r\n    const findIndexTags = activeButtonTags.findIndex(\r\n      (item, index) => item === _tags\r\n    );\r\n\r\n    console.log(\"onChangeTags findIndexTags\", findIndexTags);\r\n\r\n    if (findIndexTags === -1) {\r\n      // если элемента нет, мы  его добавляем\r\n      // const incAdd = newArrTags.includes(_tags);\r\n      // newArrTags = [...newArrTags, _tags];  \r\n\r\n      // console.log({\r\n      //   \"ADD tags\": _tags,\r\n      //   \"ADD newArrTags\": newArrTags,\r\n      //   \"ADD includes\": incAdd,\r\n      //   \"ADD includes test\": newArrTags.includes(_tags),\r\n      // });\r\n      // const newArr = [...activeButtonTags, _tags];\r\n      setActiveButtonTags([...activeButtonTags, _tags]);\r\n      // console.log(\"onChangeTags if activeButtonTags\", activeButtonTags);\r\n    } else {\r\n      // если элемент уже есть, то удаляем его\r\n      // const incDelete = newArrTags.includes(_tags);\r\n      // newArrTags.splice(findIndexTags, 1);\r\n\r\n      // console.log({\r\n      //   \"Delete tags\": _tags,\r\n      //   \"Delete newArrTags\": newArrTags,\r\n      //   \"Delete includes\": incDelete,\r\n      //   \"Delete includes test\": newArrTags.includes(_tags),\r\n      // });\r\n\r\n      const newArr = [...activeButtonTags];  // так работает\r\n      newArr.splice(findIndexTags, 1);\r\n      setActiveButtonTags(newArr);\r\n      // console.log(\"onChangeTags else activeButtonTags\", activeButtonTags);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <List component=\"nav\" className={classes.root} aria-label=\"contacts\">\r\n        {tags.map((item, index) => {\r\n          if (index < 4) {\r\n            return (\r\n              <Button\r\n                key={item.id}\r\n                onClick={() => {\r\n                  onChangeTags(item.genre);\r\n                  // tagsFilter(item);\r\n                }}\r\n                className={classes.button}\r\n                variant=\"contained\"\r\n                style={{\r\n                  backgroundColor: activeButtonTags.includes(item.genre)\r\n                    ? \"#db7093\"\r\n                    : \"gray\",\r\n                }}\r\n              >\r\n                {item.genre}\r\n              </Button>\r\n            );\r\n          }\r\n        })}\r\n      </List>\r\n    </>\r\n  );\r\n};\r\nexport { TestButton };\r\n","/**\r\n * Класс для работы с API\r\n */\r\nexport class APIManager {\r\n    static baseURL = 'https://4fb558da2428.ngrok.io/rest-api';\r\n\r\n    /**\r\n     * @param {string} methodName - Имя метода\r\n     * @param {object} params - Параметры метода\r\n     * @returns {Promise<any>} \r\n     */\r\n    static async callMethod(methodName, params = {}) {\r\n        const response = await fetch(`${APIManager.baseURL}/${methodName}`, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(params)\r\n        });\r\n\r\n        return response.json();\r\n    }\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, Box, Button } from \"@material-ui/core/\";\r\nimport {\r\n  MenuApp,\r\n  Table,\r\n  Header,\r\n  SearchInput,\r\n  FilmsList,\r\n  TagsList,\r\n} from \"../components\";\r\nimport films from \"../data/films\";\r\nimport tags from \"../data/tags\";\r\n\r\nimport { APIManager } from \"../helpers\";\r\n\r\nconst { callMethod } = APIManager;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"600px\",\r\n  },\r\n}));\r\n\r\nconst HomePage = ({}) => {\r\n  const classes = useStyles();\r\n  const [activeButton, setActiveButton] = useState({\r\n    btnMovie: true,\r\n    btnBookmarks: false,\r\n  });\r\n  const [updFilms, setUpdFilms] = useState(films);\r\n  const [bookmarks, setBookmarks] = useState([]);\r\n  const [searchResults, setSearchResult] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [activeButtonTags, setActiveButtonTags] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getLocalStorageFilms = localStorage.getItem(\"films\");\r\n    const resStorageFilms = JSON.parse(getLocalStorageFilms);\r\n\r\n    if (resStorageFilms) {\r\n      setSearchResult(resStorageFilms);\r\n      setUpdFilms(resStorageFilms);\r\n      setBookmarks(\r\n        resStorageFilms.filter((item) => {\r\n          if (item.added) {\r\n            return item;\r\n          }\r\n        })\r\n      );\r\n    }\r\n    // else {\r\n    //   setUpdFilms(resStorageFilms);\r\n    //   setSearchResult(resStorageFilms);\r\n    // }\r\n    // console.log(\"updFilms\", updFilms);\r\n    // console.log(\"searchResults\", searchResults);\r\n    // console.log(\"bookmarks\", bookmarks);\r\n  }, []);\r\n\r\n  // фильтрация по вводу и тегам\r\n  useEffect(() => {\r\n    // фильтр по названию фильма\r\n    console.log(\"input\", input);\r\n\r\n    const results = updFilms.filter((item) =>\r\n      item.title.toLowerCase().includes(input)\r\n    );\r\n    console.log(\"results\", results);\r\n    // фильтр по тегам\r\n    const typeFilter = input === \"\" ? updFilms : results;\r\n    const findTags = typeFilter.filter((item) => {\r\n      const f = item.tags.filter((itemTags) =>\r\n        activeButtonTags.includes(itemTags)\r\n      );\r\n      if (activeButtonTags.length === f.length) {\r\n        return item;\r\n      }\r\n    });\r\n\r\n    console.log(\"findTags\", findTags);\r\n    setSearchResult(findTags);\r\n  }, [input, activeButtonTags]);\r\n\r\n  const pickDeleteBookmarks = (title, id) => {\r\n    const findIdBookmarks = bookmarks.find(\r\n      (item, index) => item.title === title\r\n    );\r\n\r\n    const findIndexBookmarks = bookmarks.findIndex(\r\n      (item, index) => item.title === title\r\n    );\r\n\r\n    if (!bookmarks || findIdBookmarks === undefined) {\r\n      const newArrFilms = updFilms.map((item) => {\r\n        if (item.title === title) {\r\n          item.added = true;\r\n        }\r\n        return item;\r\n      });\r\n\r\n      setUpdFilms(newArrFilms);\r\n      console.log(\"added updFilms\", updFilms);\r\n      setBookmarks([...bookmarks, { ...updFilms[id - 1], added: true }]);\r\n    } else {\r\n      const newArrFilms = updFilms.map((item) => {\r\n        if (item.title === title) {\r\n          item.added = false;\r\n        }\r\n        return item;\r\n      });\r\n      setUpdFilms(newArrFilms);\r\n      console.log(\"delete updFilms\", updFilms);\r\n\r\n      const newArr = [...bookmarks];\r\n      newArr.splice(findIndexBookmarks, 1);\r\n      setBookmarks(newArr);\r\n    }\r\n    localStorage.setItem(\"films\", JSON.stringify(updFilms));\r\n  };\r\n\r\n  return (\r\n    <div className=\"homePageRoot\">\r\n      <Header activeButton={activeButton} setActiveButton={setActiveButton} />\r\n      {activeButton.btnMovie ? (\r\n        <>\r\n          <SearchInput\r\n            updFilms={updFilms}\r\n            setUpdFilms={setUpdFilms}\r\n            bookmarks={bookmarks}\r\n            searchResults={searchResults}\r\n            setSearchResult={setSearchResult}\r\n            input={input}\r\n            setInput={setInput}\r\n            // setActiveButtonTags={setActiveButtonTags}\r\n          />\r\n          <TagsList\r\n            // tagsFilter={tagsFilter}\r\n            activeButtonTags={activeButtonTags}\r\n            setActiveButtonTags={setActiveButtonTags}\r\n            input={input}\r\n            searchResults={searchResults}\r\n            setSearchResult={setSearchResult}\r\n          />\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <FilmsList\r\n        activeButton={activeButton}\r\n        setActiveButton={setActiveButton}\r\n        updFilms={updFilms}\r\n        bookmarks={bookmarks}\r\n        pickDeleteBookmarks={pickDeleteBookmarks}\r\n        searchResults={searchResults}\r\n        setSearchResult={setSearchResult}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport { HomePage };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, Box, Button } from \"@material-ui/core/\";\r\nimport {\r\n\r\n  TestButton,\r\n} from \"../components\";\r\nimport films from \"../data/films\";\r\nimport tags from \"../data/tags\";\r\n\r\nimport { APIManager } from \"../helpers\";\r\n\r\nconst { callMethod } = APIManager;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"600px\",\r\n  },\r\n}));\r\n\r\nconst TestPage = ({}) => {\r\n  const classes = useStyles();\r\n  const [activeButton, setActiveButton] = useState({\r\n    btnMovie: true,\r\n    btnBookmarks: false,\r\n  });\r\n  const [updFilms, setUpdFilms] = useState(films);\r\n  const [bookmarks, setBookmarks] = useState([]);\r\n  const [searchResults, setSearchResult] = useState(updFilms);\r\n  const [input, setInput] = useState(\"\");\r\n  const [activeButtonTags, setActiveButtonTags] = useState([]);\r\n\r\n  return (\r\n    <div className=\"homePageRoot\">\r\n      <TestButton\r\n        // tagsFilter={tagsFilter}\r\n        activeButtonTags={activeButtonTags}\r\n        setActiveButtonTags={setActiveButtonTags}\r\n        input={input}\r\n        searchResults={searchResults}\r\n        setSearchResult={setSearchResult}\r\n        updFilms={updFilms}\r\n        setUpdFilms={setUpdFilms}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport { TestPage };\r\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport {\n  HomePage,\n  SignInPage,\n  SignUpPage,\n  ProfilePage,\n  TestPage,\n} from \"./pages\";\nimport \"./styles/header.sass\";\nimport \"./styles/homePage.sass\";\n\nfunction App() {\n  const [userId, setUserId] = useState(null);\n\n  return (\n    <BrowserRouter basename=\"/movie-search/\">\n      <Switch>\n        <Route path=\"/\" component={HomePage} exact />\n        {/* <Route\n          path=\"/movie\"\n          component={() => <MoviePage />}\n          exact\n        />\n        <Route\n          path=\"/bookmarks\"\n          component={() => (\n            <BookmarksPage userId={userId} setUserId={setUserId} />\n          )}\n          exact\n        /> */}\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}